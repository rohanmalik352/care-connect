<%- include('../partials/head') %>
<%- include('../partials/navbar') %>

<div class="main-content">
  <div class="container py-4">
    <h3 class="fw-bold mb-4"><i class="fas fa-users me-2 text-teal"></i>All Patients (<%= patients.length %>)</h3>
    <div class="table-responsive card border-0 shadow-sm table-card">
      <table class="table table-hover mb-0">
        <thead class="table-light">
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Blood Group</th>
            <th>ABHA ID</th>
            <th>Registered</th>
          </tr>
        </thead>
        <tbody>
          <% patients.forEach(p => { %>
            <tr>
              <td><strong><%= p.user?.name %></strong></td>
              <td><%= p.user?.email %></td>
              <td><%= p.bloodGroup || '—' %></td>
              <td><%= p.abhaId || '—' %></td>
              <td><%= new Date(p.createdAt).toLocaleDateString('en-IN') %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>